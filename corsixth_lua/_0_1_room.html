<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
 <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
 <meta http-equiv="Content-Language" content="en-gb" />
 <title>Room Class - CorsixTH Lua Documentation</title>
 <link rel="stylesheet" href="main.css" type="text/css" media="all" />
 </head>
 <body>
 <h1>CorsixTH Lua Documentation</h1>
 <ul class="tabs">
 <li><a href="#">Documentation Home</a></li>
 <li class="active"><a href="class_list.html">Classes</a></li>
 <li><a href="file_hierarchy.html">Files</a></li>
 <li><a href="#">Miscellaneous</a></li>
 </ul>
 <ul class="sections">
 <li><a href="class_list.html">List</a></li>
 <li><a href="class_hierarchy.html">Hierarchy</a></li>
 <li class="last"><a href="class_index.html">Index</a></li>
 </ul>
 <div class="content">
 <h2 class="class">Room Class</h2>
<div class="class_info">
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L21">line 21 of Lua/room.lua</a>.
 <br/><strong>Subclasses:</strong> <a href="_0_1_blood_machine_room.html">BloodMachineRoom</a>, <a href="_0_1_cardiogram_room.html">CardiogramRoom</a>, <a href="_0_1_d_n_a_fixer_room.html">DNAFixerRoom</a>, <a href="_0_1_decontamination_room.html">DecontaminationRoom</a>, <a href="_0_1_electrolysis_room.html">ElectrolysisRoom</a>, <a href="_0_1_fracture_room.html">FractureRoom</a>, <a href="_0_1_g_p_room.html">GPRoom</a>, <a href="_0_1_general_diag_room.html">GeneralDiagRoom</a>, <a href="_0_1_hair_restoration_room.html">HairRestorationRoom</a>, <a href="_0_1_inflation_room.html">InflationRoom</a>, <a href="_0_1_jelly_vat_room.html">JellyVatRoom</a>, <a href="_0_1_operating_theatre_room.html">OperatingTheatreRoom</a>, <a href="_0_1_pharmacy_room.html">PharmacyRoom</a>, <a href="_0_1_psych_room.html">PsychRoom</a>, <a href="_0_1_research_room.html">ResearchRoom</a>, <a href="_0_1_scanner_room.html">ScannerRoom</a>, <a href="_0_1_slack_tongue_room.html">SlackTongueRoom</a>, <a href="_0_1_staff_room.html">StaffRoom</a>, <a href="_0_1_toilet_room.html">ToiletRoom</a>, <a href="_0_1_training_room.html">TrainingRoom</a>, <a href="_0_1_ultrascan_room.html">UltrascanRoom</a>, <a href="_0_1_ward_room.html">WardRoom</a>, <a href="_0_1_x_ray_room.html">XRayRoom</a>
</div>
<div class="method_list">
 <h4>Method Index</h4>
 <ul>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1__are_patients_wanting_to_enter">_arePatientsWantingToEnter</a>()
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1__check_wait_toggle_valid_target">_checkWaitToggleValidTarget</a>()
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1__staff_wait_toggle">_staffWaitToggle</a>(<span class="p">activate</span>)
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1after_load">afterLoad</a>(<span class="p">old</span>, <span class="p">new</span>)
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1calculate_happiness_factor">calculateHappinessFactor</a>()
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1calculate_removal_cost">calculateRemovalCost</a>()
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1can_humanoid_enter">canHumanoidEnter</a>(<span class="p">humanoid</span>)
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1command_entering_patient">commandEnteringPatient</a>(<span class="p">humanoid</span>)
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1command_entering_staff">commandEnteringStaff</a>(<span class="p">staff</span>, <span class="p">already_initialized</span>)
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1count_windows">countWindows</a>()
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1crash_room">crashRoom</a>()
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1create_enter_action">createEnterAction</a>(<span class="p">humanoid_entering</span>, <span class="p">callback</span>)
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1create_leave_action">createLeaveAction</a>()
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1deactivate">deactivate</a>()
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1dealt_with_patient">dealtWithPatient</a>(<span class="p">patient</span>)
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1enter_edit_mode">enterEditMode</a>()
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1get_entrance_x_y">getEntranceXY</a>(<span class="p">inside</span>)
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1get_maximum_staff_criteria">getMaximumStaffCriteria</a>()
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1get_missing_staff">getMissingStaff</a>(<span class="p">criteria</span>)
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1get_patient">getPatient</a>()
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1get_patient_count">getPatientCount</a>()
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1get_patients">getPatients</a>()
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1get_required_staff_criteria">getRequiredStaffCriteria</a>()
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1get_staff_member">getStaffMember</a>()
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1get_staff_service_quality">getStaffServiceQuality</a>()
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1get_usage_score">getUsageScore</a>()
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1has_queue_dialog">hasQueueDialog</a>()
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1init_room">initRoom</a>(<span class="p">x</span>, <span class="p">y</span>, <span class="p">w</span>, <span class="p">h</span>, <span class="p">door</span>, <span class="p">door2</span>)
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1is_diagnosis_room_for_patient">isDiagnosisRoomForPatient</a>(<span class="p">patient</span>)
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1is_room_in_demand">isRoomInDemand</a>()
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1make_humanoid_dress_if_necessary_and_then_leave">makeHumanoidDressIfNecessaryAndThenLeave</a>(<span class="p">humanoid</span>)
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1make_humanoid_leave">makeHumanoidLeave</a>(<span class="p">patient</span>)
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1on_humanoid_enter">onHumanoidEnter</a>(<span class="p">humanoid</span>)
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1on_humanoid_leave">onHumanoidLeave</a>(<span class="p">humanoid</span>)
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1room_finished">roomFinished</a>()
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1set_staff_member">setStaffMember</a>(<span class="p">staff</span>)
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1set_staff_members_attribute">setStaffMembersAttribute</a>(<span class="p">attribute</span>, <span class="p">value</span>)
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1should_have_patient_reenter">shouldHavePatientReenter</a>(<span class="p">patient</span>)
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1staff_fits_in_room">staffFitsInRoom</a>(<span class="p">staff</span>)
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1staff_meets_room_requirements">staffMeetsRoomRequirements</a>(<span class="p">humanoid</span>)
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1test_staff_criteria">testStaffCriteria</a>(<span class="p">criteria</span>, <span class="p">extra_humanoid</span>)
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1try_advance_queue">tryAdvanceQueue</a>()
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1try_to_edit">tryToEdit</a>()
 </li>
 <li class="self">
 <a href="_0_1_room.html#_0_1_room_1try_to_find_nearby_patients">tryToFindNearbyPatients</a>()
 </li>
 </ul>
</div>
<div class="member_list">
 <h4>Member Index</h4>
 <ul>
 <li><span class="p">active</span>
 </li>
 <li><span class="p">built</span>
 </li>
 <li><span class="p">crashed</span>
 </li>
 <li><span class="p">dealt_patient_callback</span>
 </li>
 <li><span class="p">door</span>
 </li>
 <li><span class="p">door2</span>
 </li>
 <li><span class="p">happiness_factor</span>
 </li>
 <li><span class="p">height</span>
 </li>
 <li><span class="p">hospital</span>
 </li>
 <li><span class="p">humanoids</span>
 </li>
 <li><span class="p">humanoids_enroute</span>
 </li>
 <li><span class="p">id</span>
 </li>
 <li><span class="p">is_active</span>
 </li>
 <li><span class="p">maximum_patients</span>
 </li>
 <li><span class="p">needs_repair</span>
 </li>
 <li><span class="p">objects</span>
 </li>
 <li><span class="p">room_info</span>
 </li>
 <li><span class="p">sound_played</span>
 </li>
 <li><span class="p">staff_member</span>
 </li>
 <li><span class="p">staff_member_set</span>
 </li>
 <li><span class="p">waiting_staff_member</span>
 </li>
 <li><span class="p">width</span>
 </li>
 <li><span class="p">world</span>
 </li>
 <li><span class="p">x</span>
 </li>
 <li><span class="p">y</span>
 </li>
 </ul>
</div>
<div class="methods">
 <div class="method">
 <h5><a name="_0_1_room_1_room">function Room:Room(<span class="p">x</span>, <span class="p">y</span>, <span class="p">w</span>, <span class="p">h</span>, <span class="p">id</span>, <span class="p">room_info</span>, <span class="p">world</span>, <span class="p">hospital</span>, <span class="p">door</span>, <span class="p">door2</span>)</a></h5>
 <p>
 Percentage cost recovery of destroyed room items<br/><br/>
 <strong>Parameters:</strong>
 <table class="params">
 <tr><th class="n">Name</th><th class="t">Type</th><th>Description</th>
 <tr>
 <td class="n">x</td>
 <td class="t">?</td>
 <td class="d">?</td>
 </tr>
 <tr>
 <td class="n">y</td>
 <td class="t">?</td>
 <td class="d">?</td>
 </tr>
 <tr>
 <td class="n">w</td>
 <td class="t">?</td>
 <td class="d">?</td>
 </tr>
 <tr>
 <td class="n">h</td>
 <td class="t">?</td>
 <td class="d">?</td>
 </tr>
 <tr>
 <td class="n">id</td>
 <td class="t">?</td>
 <td class="d">?</td>
 </tr>
 <tr>
 <td class="n">room_info</td>
 <td class="t">?</td>
 <td class="d">?</td>
 </tr>
 <tr>
 <td class="n">world</td>
 <td class="t">?</td>
 <td class="d">?</td>
 </tr>
 <tr>
 <td class="n">hospital</td>
 <td class="t">?</td>
 <td class="d">?</td>
 </tr>
 <tr>
 <td class="n">door</td>
 <td class="t">?</td>
 <td class="d">?</td>
 </tr>
 <tr>
 <td class="n">door2</td>
 <td class="t">?</td>
 <td class="d">?</td>
 </tr>
 </table></p><p>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L26">line 26 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1__are_patients_wanting_to_enter">function Room:_arePatientsWantingToEnter()</a></h5>
 <p>
 Private function to check for any patients outside the door queueing,<br/><br/>
 or about to come in<br/><br/>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L722">line 722 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1__check_wait_toggle_valid_target">function Room:_checkWaitToggleValidTarget()</a></h5>
 <p>
 Check the target room for a staff wait toggle is not staff room/training/toilets,<br/><br/>
 and the front humanoid is a patient.<br/><br/>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L524">line 524 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1__staff_wait_toggle">function Room:_staffWaitToggle(<span class="p">activate</span>)</a></h5>
 <p>
 Activates and deactivates the staff waiting for patient mood icon
and dynamic info text<br/><br/>
 <strong>Parameters:</strong>
 <table class="params">
 <tr><th class="n">Name</th><th class="t">Type</th><th>Description</th>
 <tr>
 <td class="n">activate</td>
 <td class="t">bool</td>
 <td class="d"> - true to activate, false or nil to deactivate</td>
 </tr>
 </table></p><p>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L495">line 495 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1after_load">function Room:afterLoad(<span class="p">old</span>, <span class="p">new</span>)</a></h5>
 <p>
 Stub to be extended in subclasses, if needed.<br/><br/>
 <strong>Parameters:</strong>
 <table class="params">
 <tr><th class="n">Name</th><th class="t">Type</th><th>Description</th>
 <tr>
 <td class="n">old</td>
 <td class="t">?</td>
 <td class="d">?</td>
 </tr>
 <tr>
 <td class="n">new</td>
 <td class="t">?</td>
 <td class="d">?</td>
 </tr>
 </table></p><p>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L1036">line 1036 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1calculate_happiness_factor">function Room:calculateHappinessFactor()</a></h5>
 <p>
 Calculate the effect the room has on humanoid happiness<br/><br/>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L1162">line 1162 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1calculate_removal_cost">function Room:calculateRemovalCost()</a></h5>
 <p>
 Get the removal cost<br/><br/>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L1145">line 1145 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1can_humanoid_enter">function Room:canHumanoidEnter(<span class="p">humanoid</span>)</a></h5>
 <p>
 <strong>Parameters:</strong>
 <table class="params">
 <tr><th class="n">Name</th><th class="t">Type</th><th>Description</th>
 <tr>
 <td class="n">humanoid</td>
 <td class="t">?</td>
 <td class="d">?</td>
 </tr>
 </table></p><p>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L675">line 675 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1command_entering_patient">function Room:commandEnteringPatient(<span class="p">humanoid</span>)</a></h5>
 <p>
 Handle the patient coming into the room<br/><br/>
 To be extended in derived classes.<br/><br/>
 <strong>Parameters:</strong>
 <table class="params">
 <tr><th class="n">Name</th><th class="t">Type</th><th>Description</th>
 <tr>
 <td class="n">humanoid</td>
 <td class="t">?</td>
 <td class="d">The patient entering</td>
 </tr>
 </table></p><p>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L531">line 531 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1command_entering_staff">function Room:commandEnteringStaff(<span class="p">staff</span>, <span class="p">already_initialized</span>)</a></h5>
 <p>
 When a valid member of staff enters the room this function is called.
Can be extended in derived classes.<br/><br/>
 <strong>Parameters:</strong>
 <table class="params">
 <tr><th class="n">Name</th><th class="t">Type</th><th>Description</th>
 <tr>
 <td class="n">staff</td>
 <td class="t">object</td>
 <td class="d"> The staff in question</td>
 </tr>
 <tr>
 <td class="n">already_initialized</td>
 <td class="t">bool</td>
 <td class="d"> If true, this means that the staff has already got order
what to do.</td>
 </tr>
 </table></p><p>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L476">line 476 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1count_windows">function Room:countWindows()</a></h5>
 <p>
 Count the number of windows in the room<br/><br/>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L1131">line 1131 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1crash_room">function Room:crashRoom()</a></h5>
 <p>
 Explode the room.<br/><br/>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L835">line 835 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1create_enter_action">function Room:createEnterAction(<span class="p">humanoid_entering</span>, <span class="p">callback</span>)</a></h5>
 <p>
 <strong>Parameters:</strong>
 <table class="params">
 <tr><th class="n">Name</th><th class="t">Type</th><th>Description</th>
 <tr>
 <td class="n">humanoid_entering</td>
 <td class="t">?</td>
 <td class="d">?</td>
 </tr>
 <tr>
 <td class="n">callback</td>
 <td class="t">?</td>
 <td class="d">?</td>
 </tr>
 </table></p><p>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L114">line 114 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1create_leave_action">function Room:createLeaveAction()</a></h5>
 <p>
 Construct an 'walk' action to the tile next to the door, just outside the room.<br/><br/>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L107">line 107 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1deactivate">function Room:deactivate()</a></h5>
 <p>
 Deactivate the room from the world.<br/><br/>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L993">line 993 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1dealt_with_patient">function Room:dealtWithPatient(<span class="p">patient</span>)</a></h5>
 <p>
 <strong>Parameters:</strong>
 <table class="params">
 <tr><th class="n">Name</th><th class="t">Type</th><th>Description</th>
 <tr>
 <td class="n">patient</td>
 <td class="t">?</td>
 <td class="d">?</td>
 </tr>
 </table></p><p>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L192">line 192 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1enter_edit_mode">function Room:enterEditMode()</a></h5>
 <p>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L639">line 639 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1get_entrance_x_y">function Room:getEntranceXY(<span class="p">inside</span>)</a></h5>
 <p>
 Get the tile next to the door.<br/><br/>
 <strong>Parameters:</strong>
 <table class="params">
 <tr><th class="n">Name</th><th class="t">Type</th><th>Description</th>
 <tr>
 <td class="n">inside</td>
 <td class="t">bool</td>
 <td class="d"> If set, get the tile inside the room, else get the tile outside.</td>
 </tr>
 </table></p><p>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L91">line 91 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1get_maximum_staff_criteria">function Room:getMaximumStaffCriteria()</a></h5>
 <p>
 Constant denoting 'no staff at all' in a room.<br/><br/>
 Get the type and number of maximum staff for the room.<br/><br/>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L300">line 300 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1get_missing_staff">function Room:getMissingStaff(<span class="p">criteria</span>)</a></h5>
 <p>
 Given any type of staff criteria (required/maximum), subtract the staff in the room and return the result<br/><br/>
 <strong>Parameters:</strong>
 <table class="params">
 <tr><th class="n">Name</th><th class="t">Type</th><th>Description</th>
 <tr>
 <td class="n">criteria</td>
 <td class="t">?</td>
 <td class="d">?</td>
 </tr>
 </table></p><p>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L246">line 246 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1get_patient">function Room:getPatient()</a></h5>
 <p>
 Get any patient in the room.<br/><br/>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L162">line 162 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1get_patient_count">function Room:getPatientCount()</a></h5>
 <p>
 Count the number of patients in the room.<br/><br/>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L172">line 172 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1get_patients">function Room:getPatients()</a></h5>
 <p>
 A room usually only has one patient, however in the ward can have multiple<br/><br/>
 patients at once.<br/><br/>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L146">line 146 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1get_required_staff_criteria">function Room:getRequiredStaffCriteria()</a></h5>
 <p>
 Get the type and number of required staff for the room.<br/><br/>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L310">line 310 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1get_staff_member">function Room:getStaffMember()</a></h5>
 <p>
 Get the current staff member.
In multi-occupancy rooms this returns the staff member with the minimum service quality<br/><br/>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L430">line 430 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1get_staff_service_quality">function Room:getStaffServiceQuality()</a></h5>
 <p>
 Get the average service quality of the staff members in the room.<br/><br/>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L1107">line 1107 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1get_usage_score">function Room:getUsageScore()</a></h5>
 <p>
 how many tiles further are we willing to walk if the room has all the required staff<br/><br/>
 Score function to decide how desirable a room is for a patient.<br/><br/>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L657">line 657 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1has_queue_dialog">function Room:hasQueueDialog()</a></h5>
 <p>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L1032">line 1032 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1init_room">function Room:initRoom(<span class="p">x</span>, <span class="p">y</span>, <span class="p">w</span>, <span class="p">h</span>, <span class="p">door</span>, <span class="p">door2</span>)</a></h5>
 <p>
 Initialises primary components of the room.
Additionally, if there is already a room, e.g. it is being moved,
we can just reinit it by calling this, not make a new one.<br/><br/>
 <strong>Parameters:</strong>
 <table class="params">
 <tr><th class="n">Name</th><th class="t">Type</th><th>Description</th>
 <tr>
 <td class="n">x</td>
 <td class="t">coordinate</td>
 <td class="d"> starting tile</td>
 </tr>
 <tr>
 <td class="n">y</td>
 <td class="t">coordinate</td>
 <td class="d"> starting tile</td>
 </tr>
 <tr>
 <td class="n">w</td>
 <td class="t">num</td>
 <td class="d"> width of room</td>
 </tr>
 <tr>
 <td class="n">h</td>
 <td class="t">num</td>
 <td class="d"> height of room</td>
 </tr>
 <tr>
 <td class="n">door</td>
 <td class="t">object</td>
 <td class="d"> primary door for room</td>
 </tr>
 <tr>
 <td class="n">door2</td>
 <td class="t">object</td>
 <td class="d"> optional secondary door (e.g. swing doors)</td>
 </tr>
 </table></p><p>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L43">line 43 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1is_diagnosis_room_for_patient">function Room:isDiagnosisRoomForPatient(<span class="p">patient</span>)</a></h5>
 <p>
 Is the room one of the diagnosis rooms for the patient?
-- This used for epidemics when the disease and therefore the diagnosis
-- rooms of a patient may change.
-- @param patient (Patient) patient to verify if treatment room<br/><br/>
 @return result (boolean) true if is suitable diagnosis room, false otherwise<br/><br/>
 <strong>Parameters:</strong>
 <table class="params">
 <tr><th class="n">Name</th><th class="t">Type</th><th>Description</th>
 <tr>
 <td class="n">patient</td>
 <td class="t">?</td>
 <td class="d">?</td>
 </tr>
 </table></p><p>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L1089">line 1089 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1is_room_in_demand">function Room:isRoomInDemand()</a></h5>
 <p>
 A room is deemed in demand should any patient be in a state of using, or<br/><br/>
 wanting to use the room.<br/><br/>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L732">line 732 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1make_humanoid_dress_if_necessary_and_then_leave">function Room:makeHumanoidDressIfNecessaryAndThenLeave(<span class="p">humanoid</span>)</a></h5>
 <p>
 <strong>Parameters:</strong>
 <table class="params">
 <tr><th class="n">Name</th><th class="t">Type</th><th>Description</th>
 <tr>
 <td class="n">humanoid</td>
 <td class="t">?</td>
 <td class="d">?</td>
 </tr>
 </table></p><p>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L952">line 952 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1make_humanoid_leave">function Room:makeHumanoidLeave(<span class="p">patient</span>)</a></h5>
 <p>
 Tells a humanoid in the room to leave it. This can be overridden for special
handling, e.g. if the humanoid needs to change before leaving the room.<br/><br/>
 <strong>Parameters:</strong>
 <table class="params">
 <tr><th class="n">Name</th><th class="t">Type</th><th>Description</th>
 <tr>
 <td class="n">patient</td>
 <td class="t">?</td>
 <td class="d">?</td>
 </tr>
 </table></p><p>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L945">line 945 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1on_humanoid_enter">function Room:onHumanoidEnter(<span class="p">humanoid</span>)</a></h5>
 <p>
 <strong>Parameters:</strong>
 <table class="params">
 <tr><th class="n">Name</th><th class="t">Type</th><th>Description</th>
 <tr>
 <td class="n">humanoid</td>
 <td class="t">?</td>
 <td class="d">?</td>
 </tr>
 </table></p><p>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L316">line 316 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1on_humanoid_leave">function Room:onHumanoidLeave(<span class="p">humanoid</span>)</a></h5>
 <p>
 Handles the departure of a humanoid from the room<br/><br/>
 <strong>Parameters:</strong>
 <table class="params">
 <tr><th class="n">Name</th><th class="t">Type</th><th>Description</th>
 <tr>
 <td class="n">humanoid</td>
 <td class="t">?</td>
 <td class="d">The subject entity</td>
 </tr>
 </table></p><p>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L559">line 559 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1room_finished">function Room:roomFinished()</a></h5>
 <p>
 Function stub for rooms to implement. Called when the final confirm
button has been pressed when building/editing a room.<br/><br/>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L693">line 693 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1set_staff_member">function Room:setStaffMember(<span class="p">staff</span>)</a></h5>
 <p>
 Set the current staff member.<br/><br/>
 <strong>Parameters:</strong>
 <table class="params">
 <tr><th class="n">Name</th><th class="t">Type</th><th>Description</th>
 <tr>
 <td class="n">staff</td>
 <td class="t">staff</td>
 <td class="d"> Staff member to denote as current staff.</td>
 </tr>
 </table></p><p>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L447">line 447 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1set_staff_members_attribute">function Room:setStaffMembersAttribute(<span class="p">attribute</span>, <span class="p">value</span>)</a></h5>
 <p>
 function that sets a given attribute to a given value for all staff members.
Should be overridden for rooms that have more than one staff member.<br/><br/>
 <strong>Parameters:</strong>
 <table class="params">
 <tr><th class="n">Name</th><th class="t">Type</th><th>Description</th>
 <tr>
 <td class="n">attribute</td>
 <td class="t">?</td>
 <td class="d">?</td>
 </tr>
 <tr>
 <td class="n">value</td>
 <td class="t">?</td>
 <td class="d">?</td>
 </tr>
 </table></p><p>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L184">line 184 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1should_have_patient_reenter">function Room:shouldHavePatientReenter(<span class="p">patient</span>)</a></h5>
 <p>
 <strong>Parameters:</strong>
 <table class="params">
 <tr><th class="n">Name</th><th class="t">Type</th><th>Description</th>
 <tr>
 <td class="n">patient</td>
 <td class="t">?</td>
 <td class="d">?</td>
 </tr>
 </table></p><p>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L652">line 652 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1staff_fits_in_room">function Room:staffFitsInRoom(<span class="p">staff</span>)</a></h5>
 <p>
 Does the given staff member fit in the room?
Returns false if the room is already full of staff or if the given member of staff cannot help out.
Otherwise returns true.<br/><br/>
 <strong>Parameters:</strong>
 <table class="params">
 <tr><th class="n">Name</th><th class="t">Type</th><th>Description</th>
 <tr>
 <td class="n">staff</td>
 <td class="t">?</td>
 <td class="d">?</td>
 </tr>
 </table></p><p>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L453">line 453 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1staff_meets_room_requirements">function Room:staffMeetsRoomRequirements(<span class="p">humanoid</span>)</a></h5>
 <p>
 Returns true if the humanoid meets (one of) the required staff criteria of the room<br/><br/>
 <strong>Parameters:</strong>
 <table class="params">
 <tr><th class="n">Name</th><th class="t">Type</th><th>Description</th>
 <tr>
 <td class="n">humanoid</td>
 <td class="t">?</td>
 <td class="d">?</td>
 </tr>
 </table></p><p>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L465">line 465 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1test_staff_criteria">function Room:testStaffCriteria(<span class="p">criteria</span>, <span class="p">extra_humanoid</span>)</a></h5>
 <p>
 <strong>Parameters:</strong>
 <table class="params">
 <tr><th class="n">Name</th><th class="t">Type</th><th>Description</th>
 <tr>
 <td class="n">criteria</td>
 <td class="t">?</td>
 <td class="d">?</td>
 </tr>
 <tr>
 <td class="n">extra_humanoid</td>
 <td class="t">?</td>
 <td class="d">?</td>
 </tr>
 </table></p><p>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L270">line 270 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1try_advance_queue">function Room:tryAdvanceQueue()</a></h5>
 <p>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L541">line 541 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1try_to_edit">function Room:tryToEdit()</a></h5>
 <p>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L1006">line 1006 of Lua/room.lua</a>.
 </p>
 </div>
 <div class="method">
 <h5><a name="_0_1_room_1try_to_find_nearby_patients">function Room:tryToFindNearbyPatients()</a></h5>
 <p>
 Try to find new patients for this room by 'stealing' them from other rooms nearby.<br/><br/>
 <strong>Declared on:</strong> <a href="http://www.github.com/CorsixTH/CorsixTH/blob/master/CorsixTH/Lua/room.lua#L812">line 812 of Lua/room.lua</a>.
 </p>
 </div>
</div>
 </div>
 </body>
</html>
